{% extends "base.html" %}

{% block title %}A–Z of Holly & Co Founders{% endblock %}

{% block content %}
<div class="hollyco-page">

  <!-- HERO -->
  <section class="page-hero">
    <h1>
      A–Z of Holly & Co Founders
      <span class="subheading">All Sellers</span>
    </h1>
    <p class="lead">
      Discover the creative founders behind Holly & Co — independent makers, artisans and small businesses with big ideas.
    </p>
  </section>

  {# ---- Compute the available letters dynamically ---- #}
  {% set available_letters = sellers | map(attribute="first_letter") | unique | list %}
  {% set has_hash = '#' in available_letters %}

  <!-- STICKY A–Z NAV -->
  <nav class="sticky-nav-hollyco">
    <ul class="az-bar">
      {% if has_hash %}
        <li><a href="#letter-hash">#</a></li>
      {% endif %}
      {% for letter in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' %}
        {% if letter in available_letters %}
          <li><a href="#{{ letter }}">{{ letter }}</a></li>
        {% endif %}
      {% endfor %}
    </ul>
  </nav>

  <!-- SELLER GRID SECTIONS -->
  <div class="card-grid-container">
    {% for letter, group in sellers | groupby("first_letter") %}
      <section id="{{ 'letter-hash' if letter == '#' else letter }}" class="letter-block">
        <div class="container">
          <h2 class="letter-title">{{ '#' if letter == '#' else letter }}</h2>
          <div class="card-grid">
            {% for s in group %}
              <a href="{{ s.url }}" 
                 class="rank-card"
                 target="_blank"
                 rel="noopener">
                 
                <img src="/static/hollyco/storefront_images/{{ s.slug }}.webp"
                     alt="{{ s.name }}"
                     class="rank-image"
                     loading="lazy"
                     onerror="this.onerror=null;this.src='/static/fallbacks/no-image.jpg'">

                <div class="rank-content">
                  <h3 class="rank-title">{{ s.name }}</h3>
                  {% if s.location %}
                    <p class="rank-subtitle">{{ s.location }}</p>
                  {% endif %}
                </div>

                {% if s.badges %}
                <div class="rank-badges">
                  {% for b in s.badges %}
                    <img src="{{ b.icon_path or b.icon }}"
                         alt="{{ b.title }}"
                         title="{{ b.title }}"
                         class="rank-badge">
                  {% endfor %}
                </div>
                {% endif %}
              </a>
            {% endfor %}
          </div>
        </div>
      </section>
    {% endfor %}
  </div>
</div>
{% endblock %}
