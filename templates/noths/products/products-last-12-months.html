{% extends "base.html" %}

{% block title %}Top 100 Products – Last 12 Months{% endblock %}

{% block content %}
<section class="page-wrap top-list">
  <h1>Top 100 Products – Last 12 Months</h1>

  <div class="card-grid">
    {% for product in products %}
      <a href="{{ product.awin or product.product_url }}"
         class="rank-card" target="_blank" rel="noopener">

        <!-- IMAGE FIRST -->
        <img
  src="/Product_Images/{{ product.sku }}.jpg"
  alt="{{ product.name }}"
  class="rank-image"
  loading="lazy"
  onerror="this.onerror=null; this.src='/static/fallbacks/no-image.jpg'">


        <div class="rank-number">#{{ loop.index }}</div>
        <div class="rank-divider"></div>

        <div class="rank-body">
          <h2 class="rank-name">{{ product.name }}</h2>
          <p class="rank-meta">
            {{ "{:,}".format(product.review_count) }} reviews<br>
            <span class="seller-name">{{ product.seller_name }}</span>
          </p>
        </div>
      </a>
    {% endfor %}
  </div>
</section>
{% endblock %}
